/**
 * base.css
 * 網站基礎樣式、重置與正常化
 * 包含: 重置、基本排版、RWD網格、可訪問性樣式
 */

/* --- 1. CSS 重置與正常化 --- */
*,
*::before,
*::after {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

/* 移除列表樣式和預設間距 */
ul,
ol {
  list-style: none;
}

/* 標準化連結顯示 */
a {
  text-decoration: none;
  color: inherit;
}

/* 讓圖片響應式且不會超出容器 */
img,
svg {
  max-width: 100%;
  height: auto;
  display: block;
}

/* 修正按鈕樣式 */
button {
  background: none;
  border: none;
  padding: 0;
  cursor: pointer;
  font-family: inherit;
  font-size: inherit;
  color: inherit;
}

/* 修正表單元素樣式 */
input,
textarea,
select,
button {
  font: inherit;
}

/* --- 2. 基本文檔設定 --- */
html {
  font-size: 100%; /* 16px */
  scroll-behavior: smooth;
  scroll-padding-top: 5rem; /* 為固定導覽提供空間，防止錨點內容被覆蓋 */
}

body {
  font-family: var(--font-family-base);
  font-size: var(--font-size-base);
  line-height: var(--line-height-base);
  color: var(--color-text-primary);
  background-color: var(--color-background);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  transition: background-color var(--motion-duration-base) var(--motion-ease),
    color var(--motion-duration-base) var(--motion-ease);
  position: relative;
}

/* --- 3. 排版基礎樣式 --- */
h1,
h2,
h3,
h4,
h5,
h6 {
  font-weight: var(--font-weight-bold);
  line-height: var(--line-height-tight);
  margin-bottom: var(--space-4);
  color: var(--color-text-primary);
}

h1 {
  font-size: clamp(var(--font-size-2xl), 5vw, var(--font-size-3xl));
}

h2 {
  font-size: clamp(var(--font-size-xl), 4vw, var(--font-size-2xl));
}

h3 {
  font-size: clamp(var(--font-size-lg), 3vw, var(--font-size-xl));
}

h4 {
  font-size: var(--font-size-md);
}

h5,
h6 {
  font-size: var(--font-size-base);
}

p {
  margin-bottom: var(--space-4);
  max-width: var(--content-max-width);
}

a {
  color: var(--color-brand-darker);
  transition: color var(--motion-duration-fast) var(--motion-ease);
}

a:hover,
a:focus {
  color: var(--color-brand);
}

small {
  font-size: var(--font-size-sm);
}

blockquote {
  border-left: 4px solid var(--color-brand);
  padding-left: var(--space-4);
  margin-left: 0;
  font-style: italic;
  color: var(--color-text-secondary);
}

code {
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;
  background-color: var(--color-brand-lighter);
  padding: 0.2em 0.4em;
  border-radius: var(--radius-sm);
  font-size: 0.9em;
}

/* --- 4. 容器與佈局 --- */
.container {
  width: 100%;
  max-width: var(--container-max-width);
  margin-left: auto;
  margin-right: auto;
  padding-left: var(--container-padding);
  padding-right: var(--container-padding);
}

.section-padding {
  padding-top: var(--space-9);
  padding-bottom: var(--space-9);
}

/* 頁面間距（相容舊版本） */
.page-padding {
  padding-top: var(--space-9);
  padding-bottom: var(--space-9);
}

/* --- 5. 噪點背景裝飾 --- */
.noise-bg {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: var(--z-below);
  opacity: 0.03;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 250 250' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
}

/* --- 6. 手機優先響應式斷點 --- */
/* 已在變數中定義基本設計為手機優先 (320px 寬度基準) */
/* 較小手機 */
@media screen and (min-width: 375px) {
  :root {
    --container-padding: var(--space-5);
  }
}

/* 平板及中等尺寸設備 */
@media screen and (min-width: 768px) {
  :root {
    --container-padding: var(--space-6);
  }

  html {
    font-size: 106.25%; /* 17px */
  }
}

/* 桌面電腦 */
@media screen and (min-width: 1024px) {
  :root {
    --container-padding: var(--space-7);
  }
}

/* 大尺寸顯示器 */
@media screen and (min-width: 1440px) {
  :root {
    --container-padding: var(--space-8);
  }

  html {
    font-size: 112.5%; /* 18px */
  }
}

/* --- 7. 列印樣式 --- */
@media print {
  body {
    background: #fff;
    color: #000;
  }

  a {
    color: #000;
    text-decoration: underline;
  }

  nav,
  .site-header,
  .site-footer,
  .contact-form,
  .back-to-top-btn {
    display: none;
  }

  /* 確保內容不被截斷 */
  section {
    page-break-inside: avoid;
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    page-break-after: avoid;
  }
}